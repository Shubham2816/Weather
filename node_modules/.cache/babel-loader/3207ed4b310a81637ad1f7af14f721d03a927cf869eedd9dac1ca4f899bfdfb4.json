{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Downloads/WeatherApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Downloads/WeatherApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Downloads/WeatherApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import searchIcon from'./search.svg';import WeatherData from'./WeatherData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Main=function Main(){var inputValue=useRef();var _useState=useState(\"lucknow\"),_useState2=_slicedToArray(_useState,2),cityName=_useState2[0],setCityName=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),lang=_useState6[0],setLang=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),myData=_useState8[0],setMyData=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cityDetails=_useState10[0],setCityDetails=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),dataWeather=_useState12[0],setDataWeather=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),windData=_useState14[0],setWindData=_useState14[1];var APP_KEY=\"52fd501346a61ccc93deba4daf732bdb\";useEffect(function(){(function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(cityName,\"&APPID=\").concat(APP_KEY,\"&units=metric&lang=\").concat(lang?'en':'hi'));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(response.ok){setCityDetails(data.city);setMyData(data.list[0].main);setDataWeather(data.list[0].weather[0]);setWindData(data.list[0].wind);setError(true);}else{setError(false);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};})()();},[cityName,lang]);var onkeydownHandler=function onkeydownHandler(e){if(e.key==='Enter'){e.preventDefault();setCityName(inputValue.current.value);}};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();setCityName(inputValue.current.value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cityName\",children:[error?/*#__PURE__*/_jsx(\"p\",{children:cityDetails.name}):/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:lang?'Invalid City Name':'अमान्य शहर का नाम'}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:inputValue,onKeyDown:onkeydownHandler,placeholder:\"City Name\"}),/*#__PURE__*/_jsx(\"img\",{style:{cursor:'pointer'},onClick:onSubmitHandler,src:searchIcon,alt:\"searchIcon\"})]})]}),/*#__PURE__*/_jsx(WeatherData,{weatherData:myData,weather:dataWeather,city:cityDetails,lang:lang,windData:windData}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return setLang(!lang);},className:\"translater\",children:lang?'Hindi':'English'})]})});};export default Main;","map":{"version":3,"names":["React","useEffect","useRef","useState","searchIcon","WeatherData","Main","inputValue","cityName","setCityName","error","setError","lang","setLang","myData","setMyData","cityDetails","setCityDetails","dataWeather","setDataWeather","windData","setWindData","APP_KEY","_","fetch","response","json","data","ok","city","list","main","weather","wind","onkeydownHandler","e","key","preventDefault","current","value","onSubmitHandler","name","cursor"],"sources":["C:/Users/HP/Downloads/WeatherApp/src/components/Main.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport searchIcon from './search.svg'\r\nimport WeatherData from './WeatherData'\r\nconst Main = () => {\r\n  const inputValue = useRef();\r\n  const [cityName,setCityName] = useState(\"lucknow\");\r\n  const [error,setError] = useState(true)\r\n  const [lang,setLang] = useState(true)\r\n  const [myData, setMyData] = useState([])\r\n  const [cityDetails,setCityDetails] = useState([])\r\n  const [dataWeather,setDataWeather] = useState([])\r\n  const [windData,setWindData] = useState([]);\r\n  const APP_KEY= \"52fd501346a61ccc93deba4daf732bdb\";\r\n  useEffect(() =>{\r\n    (async _ => {\r\n          const response = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${cityName}&APPID=${APP_KEY}&units=metric&lang=${lang?('en'):('hi')}`);\r\n          const data = await response.json();\r\n          if(response.ok){\r\n            setCityDetails(data.city)\r\n            setMyData(data.list[0].main)\r\n            setDataWeather(data.list[0].weather[0])\r\n            setWindData(data.list[0].wind)\r\n            setError(true)\r\n          }else{\r\n            setError(false)\r\n          }\r\n    })();\r\n\r\n  },[cityName,lang])\r\n  \r\n  const onkeydownHandler = ((e) =>{\r\n    if(e.key==='Enter'){\r\n      e.preventDefault();\r\n      setCityName(inputValue.current.value)\r\n    }\r\n  })\r\n  const onSubmitHandler = ((e) =>{\r\n    e.preventDefault();\r\n    setCityName(inputValue.current.value)\r\n  })\r\n\r\n  return (\r\n    <>\r\n    <div className='box'>\r\n        <div className='cityName'>\r\n          {error?(<p>{cityDetails.name}</p>):(<p className='invalid'>{lang?'Invalid City Name':'अमान्य शहर का नाम'}</p>)}\r\n          <div className='search'>\r\n          <input type='text' ref={inputValue} onKeyDown={onkeydownHandler} placeholder='City Name'/><img style={{cursor:'pointer'}} onClick={onSubmitHandler} src={searchIcon} alt='searchIcon'/>\r\n          </div>\r\n        </div>\r\n        <WeatherData weatherData ={myData} weather={dataWeather} city={cityDetails} lang={lang} windData={windData}/>\r\n        <p onClick={() => setLang(!lang)} className='translater'>{lang?('Hindi'):('English')}</p>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Main\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}